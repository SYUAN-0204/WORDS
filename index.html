<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>手機手寫畫布</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            border: 2px solid #333;
            touch-action: none;
            /* 禁止捲動干擾 */
            display: block;
            width: 100vw;
            height: 80vh;
        }

        #clearBtn {
            width: 100vw;
            height: 10vh;
            font-size: 1.5em;
        }
    </style>
</head>

<body>
    <canvas id="drawCanvas"></canvas>
    <button id="clearBtn">清除畫布</button>

    <script>
        const canvas = document.getElementById('drawCanvas');
        const ctx = canvas.getContext('2d');

        // 設定實際尺寸
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight * 0.8;
        }
        resizeCanvas();

        let drawing = false;
        let lastX = 0, lastY = 0;

        canvas.addEventListener('touchstart', (e) => {
            drawing = true;
            const touch = e.touches[0];
            lastX = touch.clientX;
            lastY = touch.clientY;
        });

        canvas.addEventListener('touchmove', (e) => {
            if (!drawing) return;
            e.preventDefault(); // 防止畫面滾動
            const touch = e.touches[0];
            const x = touch.clientX;
            const y = touch.clientY;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.stroke();
            lastX = x;
            lastY = y;
        });

        canvas.addEventListener('touchend', () => {
            drawing = false;
        });

        document.getElementById('clearBtn').addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });
    </script>
</body>

</html>